setwd("C:/Users/kiera/Documents/GitHub/Homology-Modelling-Helper")
list.files()
zip('ss_dis.txt')
setwd("C:/Users/kiera/Documents/GitHub/Homology-Modelling-Helper")
#install.packages("seqinr")
library('seqinr')
#install.packages('R.utils')
library('R.utils')
zip('ss_dis.txt')
?zip
zip('ss_dis.txt','ss_dis.txt')
zip('ss_dis.txt.gz','ss_dis.txt')
list.files
list.files()
~
/
temp <- tempfile()
setwd("C:/Users/kiera/Documents/GitHub/Homology-Modelling-Helper")
#install.packages("seqinr")
library('seqinr')
#install.packages('R.utils')
library('R.utils')
temp <- tempfile()
download.file("https://cdn.rcsb.org/etl/kabschSander/ss_dis.txt.gz", temp)
ss_dis <- read.fasta(gunzip(temp))
ss_dis <- read.fasta(gunzip(temp))
ss_dis <- read.fasta(unz(temp))
?unz
ss_dis <- read.fasta(unz(temp, 'ss_dis.txt'))
temp <- tempfile()
download.file("https://cdn.rcsb.org/etl/kabschSander/ss_dis.txt.gz", temp)
ss_dis <- read.fasta(unz(temp, 'ss_dis.txt'))
ss_dis <- read.fasta(unz(temp, "ss_dis.txt"))
unlink(temp)
temp <- tempfile()
download.file("https://cdn.rcsb.org/etl/kabschSander/ss_dis.txt.gz", temp)
ss_dis <- read.fasta(unz(temp, "ss_dis.txt"))
list.files(temp)
temp
ss_dis <- read.fasta(unz(temp))
ss_dis <- read.fasta(unz(temp,'ss_dis.txt.gz'))
ss_dis <- read.fasta(unz(temp,'file2cb8ae06433'))
tempdir()
tempdir()
ss_dis <- read.fasta(unz(tempdir(),temp))
temp <- tempfile()
download.file("https://cdn.rcsb.org/etl/kabschSander/ss_dis.txt.gz", temp)
setwd("C:/Users/kiera/Documents/GitHub/Homology-Modelling-Helper")
#install.packages("seqinr")
library('seqinr')
#install.packages('R.utils')
library('R.utils')
# This bit is fucky
temp <- tempfile()
download.file("https://cdn.rcsb.org/etl/kabschSander/ss_dis.txt.gz", temp)
ss_dis <- read.fasta(unz(tempdir(),temp))
ss_dis <- read.fasta(unz(temp))
?tempfile()
# This bit is fucky
temp <- tempfile(fileext = ".txt.gz")
download.file("https://cdn.rcsb.org/etl/kabschSander/ss_dis.txt.gz", temp)
ss_dis <- read.fasta(unz(temp))
# This bit is fucky
temp <- tempfile(pattern = "", fileext = ".txt.gz")
download.file("https://cdn.rcsb.org/etl/kabschSander/ss_dis.txt.gz", temp)
ss_dis <- read.fasta(unz(temp))
ss_dis <- read.fasta(temp)
View(ss_dis)
unlink(temp)
AliFinder <- function(ID_CHAIN) {
ID_CHAIN <<- ID_CHAIN
seqID <- paste(ID_CHAIN, "sequence", sep = ":")
disID <- paste(ID_CHAIN, "disorder", sep = ":")
sequence <- ss_dis[[seqID]]
disorder <- ss_dis[[disID]]
del_boy <- which(disorder == "x")
for (i in 1:length(del_boy)) {
sequence[del_boy[i]] <- NA
}
pdb_seq <<- toupper(na.omit(sequence))
wd <- getwd()
write.fasta(pdb_seq, ID_CHAIN, file.out = paste0(wd,'/pdbout.fasta'))
}
View(ss_dis)
AliFinder('11GS:B')
setwd("C:/Users/kiera/Documents/GitHub/Homology-Modelling-Helper")
source('~/GitHub/Homology-Modelling-Helper/AliFinder.R')
source('~/GitHub/Homology-Modelling-Helper/AliFinder.R')
